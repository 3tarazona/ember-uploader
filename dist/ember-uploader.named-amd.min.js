define("ember-uploader",["ember-uploader/uploader","ember-uploader/s3","ember-uploader/file-field","exports"],function(e,r,t,a){"use strict";var n=e["default"];var i=r["default"];var s=t["default"];var u={};u.Uploader=n;u.S3Uploader=i;u.FileField=s;a["default"]=u});define("ember-uploader/file-field",["exports"],function(e){"use strict";var r=Ember.set;e["default"]=Ember.TextField.extend({type:"file",attributeBindings:["multiple"],multiple:false,change:function(e){var t=e.target;if(!Ember.isEmpty(t.files)){r(this,"files",t.files)}}})});define("ember-uploader/s3",["ember-uploader/uploader","exports"],function(e,r){"use strict";var t=e["default"];var a=Ember.get,n=Ember.set;r["default"]=t.extend({url:"/sign",upload:function(e,r){var t=this;n(this,"isUploading",true);return this.sign(e,r).then(function(r){var a=null;if(r.region){a="http://s3-"+r.region+".amazonaws.com/"+r.bucket;delete r.region}else{a="http://"+r.bucket+".s3.amazonaws.com"}var n=t.setupFormData(e,r);return t.ajax(a,n)}).then(function(e){t.didUpload(e);return e})},sign:function(e,r){r=r||{};r.name=e.name;r.type=e.type;r.size=e.size;var t={url:a(this,"url"),type:"GET",contentType:"json",data:r};return this._ajax(t)}})});define("ember-uploader/uploader",["exports"],function(e){"use strict";var r=Ember.get,t=Ember.set;e["default"]=Ember.Object.extend(Ember.Evented,{url:null,paramNamespace:null,paramName:"file",type:"POST",upload:function(e,a){a=a||{};var n=this.setupFormData(e,a);var i=r(this,"url");var s=r(this,"type");var u=this;t(this,"isUploading",true);return this.ajax(i,n,s).then(function(e){u.didUpload(e);return e})},setupFormData:function(e,r){var t=new FormData;for(var a in r){if(r.hasOwnProperty(a)){t.append(this.toNamespacedParam(a),r[a])}}t.append(this.toNamespacedParam(this.paramName),e);return t},toNamespacedParam:function(e){if(this.paramNamespace){return this.paramNamespace+"["+e+"]"}return e},didUpload:function(e){t(this,"isUploading",false);this.trigger("didUpload",e)},didProgress:function(e){e.percent=e.loaded/e.total*100;this.trigger("progress",e)},ajax:function(e,r,t){var a=this;var n={url:e,type:t||"POST",contentType:false,processData:false,xhr:function(){var e=Ember.$.ajaxSettings.xhr();e.upload.onprogress=function(e){a.didProgress(e)};return e},data:r};return this._ajax(n)},_ajax:function(e){return new Ember.RSVP.Promise(function(r,t){e.success=function(e){Ember.run(null,r,e)};e.error=function(e,r,a){Ember.run(null,t,e)};Ember.$.ajax(e)})}})});